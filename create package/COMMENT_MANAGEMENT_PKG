--Package Specification
CREATE OR REPLACE PACKAGE comment_management_pkg AS
  -- Görev eklemek için prosedür
  PROCEDURE insert_comment (
    p_task_id  comments.task_id%TYPE,
    p_user_id  comments.user_id%TYPE,
    p_comment_text comments.comment_text%TYPE,
    p_comment_time comments.comment_time%TYPE
  );

  -- Görev güncellemek için prosedür
  PROCEDURE update_comment (
    p_comment_id comments.comment_id%TYPE,
    p_task_id  comments.task_id%TYPE,
    p_user_id  comments.user_id%TYPE,
    p_comment_text comments.comment_text%TYPE,
    p_comment_time comments.comment_time%TYPE
  );

  -- Görev silmek için prosedür
  PROCEDURE delete_comment (
    p_comment_id comments.comment_id%TYPE
  );

  -- Log ekleme prosedürü
  PROCEDURE add_log (
    p_user_id logs.user_id%TYPE,
    p_task_id logs.task_id%TYPE := NULL,
    p_project_id logs.project_id%TYPE,
    p_event_type logs.event_type%TYPE,
    p_description logs.description%TYPE
  );

  -- Common subprocedure for raising exceptions and rolling back
  PROCEDURE raise_error(p_error_message VARCHAR2);

END comment_management_pkg;
/
